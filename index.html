<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Telegram Web App</title>
  <style>
    /* إعادة تعيين القواعد العامة وتنسيق التخطيط */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      color: #000;
    }
    #app {
      display: flex;
      flex-direction: column;
      height: 100vh;
    }
    /* منطقة المحتوى الرئيسية لكل تبويب */
    #content {
      flex: 1;
      overflow-y: auto;
      padding: 10px;
    }
    /* شريط التنقل السفلي */
    #bottom-nav {
      display: flex;
      justify-content: space-around;
      align-items: center;
      background-color: #fff;
      border-top: 1px solid #ccc;
      padding: 10px 0;
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
    }
    #bottom-nav button {
      background: none;
      border: none;
      font-size: 14px;
      cursor: pointer;
      color: #000;
    }
    /* إخفاء كل الأقسام في البداية */
    .tab-section {
      display: none;
    }
    .active {
      display: block;
    }
    /* أنماط تبويب Home (الأسئلة الرياضية) */
    #home-tab {
      text-align: center;
    }
    /* عرض السؤال داخل مربع بخلفية بنية */
    #question {
      font-size: 20px;
      margin-bottom: 15px;
      background-color: brown;
      color: #fff;
      padding: 10px;
      border-radius: 5px;
    }
    /* تنسيق الخيارات: الخلفية الافتراضية أزرق، النص أبيض */
    .option {
      display: block;
      margin: 5px auto;
      padding: 10px;
      width: 80%;
      border: 1px solid #000;
      cursor: pointer;
      background-color: blue;
      color: white;
    }
    #home-timer {
      margin-top: 20px;
      font-size: 18px;
      font-weight: bold;
    }
    /* أنماط تبويب Earn */
    #earn-tab .challenge {
      border: 1px solid #000;
      padding: 10px;
      margin: 10px 0;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    #earn-tab .challenge button {
      padding: 5px 10px;
      cursor: pointer;
    }
    /* أنماط تبويب Invite */
    #invite-tab {
      text-align: center;
    }
    #invite-tab input[type="text"] {
      width: 80%;
      padding: 8px;
      margin: 10px 0;
    }
    #invite-tab button {
      padding: 5px 10px;
      cursor: pointer;
    }
    /* أنماط تبويب Ad */
    #ad-tab form {
      max-width: 500px;
      margin: 0 auto;
    }
    #ad-tab input, #ad-tab textarea {
      width: 100%;
      padding: 8px;
      margin: 5px 0;
    }
    #ad-tab button {
      padding: 10px;
      margin: 10px 0;
      cursor: pointer;
    }
    /* أنماط تبويب Ranking */
    #ranking-tab .ranking-list {
      list-style: none;
      padding: 0;
    }
    #ranking-tab li {
      padding: 10px;
      border-bottom: 1px solid #ccc;
      display: flex;
      justify-content: space-between;
    }
    /* أنماط تبويب Profile (حسابي) */
    #profile-tab {
      text-align: center;
    }
    /* نمط رسالة الترحيب في صفحة تسجيل الدخول */
    #welcome-message {
      background-color: #fff;
      border: 1px solid #ccc;
      padding: 20px;
      border-radius: 10px;
      width: 80%;
      margin: 20px auto;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    /* مركز Telegram Login Widget */
    #telegram-login-container {
      margin-top: 20px;
      text-align: center;
    }
    /* منطقة بيانات المستخدم بعد تسجيل الدخول */
    #user-info {
      margin-top: 20px;
    }
    #user-info img {
      border-radius: 50%;
      width: 50px;
      height: 50px;
    }
    #admin-panel {
      border: 1px solid #000;
      padding: 10px;
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <div id="app">
    <!-- منطقة المحتوى الرئيسية -->
    <div id="content">
      <!-- تبويب Home: الأسئلة الرياضية -->
      <div id="home-tab" class="tab-section active">
        <h2>Math Questions</h2>
        <div id="question">Question will appear here</div>
        <div id="options">
          <div class="option" data-index="0">Option 1</div>
          <div class="option" data-index="1">Option 2</div>
          <div class="option" data-index="2">Option 3</div>
          <div class="option" data-index="3">Option 4</div>
        </div>
        <div id="home-timer">Time: 5</div>
        <div id="home-message"></div>
        <div id="help-section" style="margin-top:20px;">
          <button id="skip-time">Skip Time (Help)</button>
          <div>Help available: <span id="help-count">0</span></div>
        </div>
      </div>
      <!-- تبويب Earn -->
      <div id="earn-tab" class="tab-section">
        <h2>Earn Coins</h2>
        <div class="project-links">
          <p><button onclick="openLink('https://t.me/YourChannel')">Join our Telegram Channel</button></p>
          <p><button onclick="openLink('https://twitter.com/YourProfile')">Join our Twitter</button></p>
        </div>
        <div class="challenge" data-required="100">
          <span>Answer 100 questions and earn 1,000 coins</span>
          <button disabled>Claim 1,000 coins</button>
          <span class="progress">0/100</span>
        </div>
        <div class="challenge" data-required="1000">
          <span>Answer 1,000 questions and earn 100,000 coins</span>
          <button disabled>Claim 100,000 coins</button>
          <span class="progress">0/1000</span>
        </div>
        <div class="challenge" data-required="2000">
          <span>Answer 2,000 questions and earn 200,000 coins</span>
          <button disabled>Claim 200,000 coins</button>
          <span class="progress">0/2000</span>
        </div>
        <div class="challenge" data-required="5000">
          <span>Answer 5,000 questions and earn 500,000 coins</span>
          <button disabled>Claim 500,000 coins</button>
          <span class="progress">0/5000</span>
        </div>
        <div class="challenge" data-required="10000">
          <span>Answer 10,000 questions and earn 1,000,000 coins</span>
          <button disabled>Claim 1,000,000 coins</button>
          <span class="progress">0/10000</span>
        </div>
        <div class="challenge" data-required="20000">
          <span>Answer 20,000 questions and earn 2,000,000 coins</span>
          <button disabled>Claim 2,000,000 coins</button>
          <span class="progress">0/20000</span>
        </div>
        <div style="margin-top:20px;">
          <button id="daily-task">Daily Task (Earn 100 coins)</button>
          <button id="weekly-task">Weekly Task (Earn 10,000 coins)</button>
          <button id="monthly-task">Monthly Task (Earn 100,000 coins)</button>
        </div>
      </div>
      <!-- تبويب Invite -->
      <div id="invite-tab" class="tab-section">
        <h2>Invite Friends</h2>
        <p>Your referral link:</p>
        <input type="text" id="referral-link" value="https://yourapp.com/?ref=YourUniqueID" readonly>
        <button id="copy-link">Copy Link</button>
        <p>Earn 10% of your friends' coins</p>
        <p>Total coins earned from referrals: <span id="referral-coins">0</span></p>
        <p>Total invitations: <span id="referral-count">0</span></p>
        <p>Earn an extra 1,000 coins for every invited friend. For every 5 referrals, you get one extra help.</p>
      </div>
      <!-- تبويب Ad -->
      <div id="ad-tab" class="tab-section">
        <h2>Advertisements</h2>
        <div id="ad-actions">
          <button id="create-ad-btn">Create Ad</button>
          <button id="view-ads-btn">View Ads & Earn Coins</button>
          <button id="my-ads-btn" style="display:none;">My Ads</button>
        </div>
        <div id="ad-form-container" style="display:none; margin-top:20px;">
          <form id="ad-form">
            <label>Ad Name:</label>
            <input type="text" id="ad-name" required>
            <label>Ad Description:</label>
            <textarea id="ad-description" required></textarea>
            <label>Ad Image (URL for demo):</label>
            <input type="text" id="ad-image" placeholder="Enter image URL" required>
            <label>Project Link - Telegram:</label>
            <input type="text" id="ad-telegram" placeholder="t.me/YourChannel" required>
            <label>Project Link - YouTube:</label>
            <input type="text" id="ad-youtube" placeholder="youtube.com/YourChannel" required>
            <label>Project Link - Twitter:</label>
            <input type="text" id="ad-twitter" placeholder="twitter.com/YourProfile" required>
            <label>Additional Link:</label>
            <input type="text" id="ad-extra" placeholder="Any link">
            <label>Number of Views (min 50):</label>
            <input type="number" id="ad-views" min="50" required>
            <button type="submit">Create Ad & Proceed to Payment</button>
          </form>
        </div>
        <div id="ad-viewer" style="display:none; margin-top:20px;">
          <div id="current-ad">
            <h3 id="ad-project-name">Project Name</h3>
            <img id="ad-project-image" src="" alt="Ad Image" style="width:100%; max-width:300px;">
            <p id="ad-project-description">Ad Description</p>
            <p>
              <a href="#" id="ad-telegram-link">Telegram</a> | 
              <a href="#" id="ad-youtube-link">YouTube</a> | 
              <a href="#" id="ad-twitter-link">Twitter</a> | 
              <a href="#" id="ad-extra-link">Extra Link</a>
            </p>
            <div id="ad-timer">10</div>
            <button id="next-ad">Next Ad</button>
            <button id="prev-ad">Previous Ad</button>
          </div>
        </div>
      </div>
      <!-- تبويب Ranking -->
      <div id="ranking-tab" class="tab-section">
        <h2>Your Balance</h2>
        <p>Total Coins: <span id="total-coins">0</span></p>
        <h3>Top Rankings</h3>
        <ul class="ranking-list" id="ranking-list">
          <!-- سيتم إدراج بيانات الترتيب هنا -->
        </ul>
        <p>Your Ranking: <span id="user-ranking">N/A</span></p>
      </div>
      <!-- تبويب Profile (حسابي) مع دمج Telegram Login Widget -->
      <div id="profile-tab" class="tab-section">
        <h2>Your Profile</h2>
        <!-- منطقة الترحيب وتسجيل الدخول عبر Telegram -->
        <div id="welcome-message">
          <h2>Welcome to Our Website</h2>
          <p>By signing in, you agree to the terms of service and our privacy policy.</p>
          <p>Please login to continue.</p>
        </div>
        <!-- Telegram Login Widget -->
        <div id="telegram-login-container">
          <script async src="https://telegram.org/js/telegram-widget.js?7"
                  data-telegram-login="SolscanXxxf_bot"
                  data-size="large"
                  data-userpic="true"
                  data-request-access="write"
                  data-callback="onTelegramAuth">
          </script>
        </div>
        <!-- منطقة عرض بيانات المستخدم بعد تسجيل الدخول -->
        <div id="user-info" style="display:none;">
          <img id="user-photo" src="" alt="Profile Picture">
          <p>Username: <span id="user-name"></span></p>
          <p>Total Coins: <span id="profile-coins">0</span></p>
          <button id="add-bot-btn">Add Bot to Your Group and Get 100,000 Coins</button>
          <div id="group-verification" style="margin-top:20px; display:none;">
            <label>Enter Your Group Link:</label>
            <input type="text" id="group-link">
            <button id="verify-group-btn">Verify and Claim Gift</button>
          </div>
          <div style="margin-top:20px;">
            <p>Questions Answered Correctly: <span id="correct-count">0</span></p>
            <p>Questions Answered Incorrectly: <span id="incorrect-count">0</span></p>
            <p>Total Questions: <span id="total-questions">0</span></p>
          </div>
        </div>
      </div>
      <!-- لوحة الإدارة (تظهر للمستخدم @ahmed1999101 فقط) -->
      <div id="admin-panel" class="tab-section" style="display:none;">
        <h2>Admin Panel</h2>
        <p>Total Members: <span id="admin-members">0</span></p>
        <p>Total Coins (All Users): <span id="admin-total-coins">0</span></p>
        <p>Total Questions Solved: <span id="admin-total-questions">0</span></p>
        <div style="margin-top:20px;">
          <label>Change Earn Tab Links:</label>
          <input type="text" id="new-telegram-link" placeholder="New Telegram Link">
          <input type="text" id="new-twitter-link" placeholder="New Twitter Link">
          <button id="update-links-btn">Update Links</button>
        </div>
      </div>
    </div>
    <!-- شريط التنقل السفلي -->
    <nav id="bottom-nav">
      <button id="nav-home">Home</button>
      <button id="nav-earn">Earn</button>
      <button id="nav-invite">Invite</button>
      <button id="nav-ad">Ad</button>
      <button id="nav-ranking">Ranking</button>
      <button id="nav-profile">Profile</button>
    </nav>
  </div>

  <script>
    /***********************
     * المتغيرات العامة
     ***********************/
    let currentTab = 'home';
    let coinCount = 0;
    let questionTimer;
    let questionTimeLeft = 5; // 5 ثواني
    let currentQuestion = {};
    let userData = {
      correct: 0,
      incorrect: 0,
      total: 0,
      helpCount: 0,
      referralCoins: 0,
      referrals: 0
    };
    // بنك أسئلة تجريبي
    const questions = [
      {
        question: "What is 2 + 2?",
        options: ["3", "4", "5", "6"],
        answer: 1
      },
      {
        question: "What is 5 * 3?",
        options: ["15", "10", "20", "8"],
        answer: 0
      }
      // يمكن إضافة المزيد من الأسئلة
    ];
    let questionIndex = 0;

    /***********************
     * وظائف التنقل بين التبويبات
     ***********************/
    const tabs = {
      home: document.getElementById('home-tab'),
      earn: document.getElementById('earn-tab'),
      invite: document.getElementById('invite-tab'),
      ad: document.getElementById('ad-tab'),
      ranking: document.getElementById('ranking-tab'),
      profile: document.getElementById('profile-tab'),
      admin: document.getElementById('admin-panel')
    };

    function showTab(tabName) {
      currentTab = tabName;
      for (let key in tabs) {
        tabs[key].classList.remove('active');
      }
      if(tabs[tabName]){
        tabs[tabName].classList.add('active');
      }
    }

    document.getElementById('nav-home').addEventListener('click', () => showTab('home'));
    document.getElementById('nav-earn').addEventListener('click', () => showTab('earn'));
    document.getElementById('nav-invite').addEventListener('click', () => showTab('invite'));
    document.getElementById('nav-ad').addEventListener('click', () => showTab('ad'));
    document.getElementById('nav-ranking').addEventListener('click', () => showTab('ranking'));
    document.getElementById('nav-profile').addEventListener('click', () => showTab('profile'));

    /***********************
     * تبويب Home: الأسئلة الرياضية
     ***********************/
    function loadQuestion() {
      // إعادة تعيين المؤقت والرسائل
      questionTimeLeft = 5;
      document.getElementById('home-message').innerHTML = '';
      document.getElementById('home-timer').innerText = `Time: ${questionTimeLeft}`;
      // إظهار السؤال والخيارات
      document.getElementById('question').style.display = "block";
      document.getElementById('options').style.display = "block";

      // إعادة ضبط ألوان الخيارات إلى الأزرق
      document.querySelectorAll('.option').forEach(option => {
        option.style.backgroundColor = "blue";
      });

      // تحميل السؤال من بنك الأسئلة
      currentQuestion = questions[questionIndex % questions.length];
      questionIndex++;
      document.getElementById('question').innerText = currentQuestion.question;
      const optionDivs = document.querySelectorAll('.option');
      optionDivs.forEach((div, index) => {
        div.innerText = currentQuestion.options[index];
      });

      // بدء العد التنازلي للسؤال
      if (questionTimer) clearInterval(questionTimer);
      questionTimer = setInterval(() => {
        questionTimeLeft--;
        document.getElementById('home-timer').innerText = `Time: ${questionTimeLeft}`;
        if (questionTimeLeft <= 0) {
          clearInterval(questionTimer);
          // في حالة عدم الإجابة خلال 5 ثوانٍ، نعالجها كإجابة خاطئة
          processAnswer(-1);
        }
      }, 1000);
    }

    function processAnswer(selectedIndex) {
      clearInterval(questionTimer);
      userData.total++;
      let optionDivs = document.querySelectorAll('.option');
      
      if (selectedIndex === currentQuestion.answer) {
        // الإجابة صحيحة
        userData.correct++;
        coinCount += 10;
        // إخفاء السؤال والخيارات
        document.getElementById('question').style.display = "none";
        document.getElementById('options').style.display = "none";
        // عرض رسالة الربح في الأسفل مع رمز العملة
        document.getElementById('home-message').innerHTML = '<div style="margin-top:20px;">ربحت 10 عملات 💰</div>';
        // إنشاء زر "السؤال التالي"
        let nextBtn = document.createElement("button");
        nextBtn.innerText = "السؤال التالي";
        nextBtn.style.backgroundColor = "grey";
        nextBtn.style.color = "white";
        nextBtn.style.marginTop = "10px";
        nextBtn.addEventListener('click', function() {
          // إخفاء كل شيء وإظهار السؤال التالي
          document.getElementById('home-message').innerHTML = "";
          loadQuestion();
        });
        document.getElementById('home-message').appendChild(nextBtn);
      } else {
        // الإجابة خاطئة أو عدم الإجابة
        userData.incorrect++;
        // الانتظار لمدة ثانية ثم تلوين الخيار المختار بالأحمر والتمييز بالخيار الصحيح بالأخضر
        setTimeout(function(){
          if (selectedIndex >= 0 && selectedIndex < optionDivs.length) {
            optionDivs[selectedIndex].style.backgroundColor = "red";
          }
          optionDivs[currentQuestion.answer].style.backgroundColor = "green";
          // إخفاء السؤال والخيارات بعد ظهور اللون الأحمر
          document.getElementById('question').style.display = "none";
          document.getElementById('options').style.display = "none";
          document.getElementById('home-message').innerText = "Wrong Answer!";
          // بدء عد تنازلي لمدة 5 دقائق (300 ثانية)
          let cooldown = 300;
          const cooldownTimer = setInterval(() => {
            cooldown--;
            document.getElementById('home-timer').innerText = `Next question in: ${cooldown} sec`;
            if (cooldown <= 0) {
              clearInterval(cooldownTimer);
              loadQuestion();
            }
          }, 1000);
        }, 1000);
      }
      updateStats();
    }

    // التعامل مع نقر المستخدم على الخيارات
    document.querySelectorAll('.option').forEach(option => {
      option.addEventListener('click', function() {
        const selected = parseInt(this.getAttribute('data-index'));
        processAnswer(selected);
      });
    });

    // زر تخطي الوقت (مساعدة)
    document.getElementById('skip-time').addEventListener('click', function() {
      if (userData.helpCount > 0) {
        userData.helpCount--;
        loadQuestion();
        document.getElementById('help-count').innerText = userData.helpCount;
      } else {
        alert("No help available!");
      }
    });

    /***********************
     * وظائف تبويب Earn
     ***********************/
    // (يتم تحديث التحديات حسب تقدم المستخدم في التطبيق الحقيقي)

    /***********************
     * وظائف تبويب Invite
     ***********************/
    document.getElementById('copy-link').addEventListener('click', function() {
      const linkField = document.getElementById('referral-link');
      linkField.select();
      document.execCommand("copy");
      alert("Referral link copied!");
    });

    /***********************
     * وظائف تبويب Ad
     ***********************/
    document.getElementById('create-ad-btn').addEventListener('click', function() {
      document.getElementById('ad-form-container').style.display = 'block';
      document.getElementById('ad-viewer').style.display = 'none';
    });
    document.getElementById('view-ads-btn').addEventListener('click', function() {
      document.getElementById('ad-viewer').style.display = 'block';
      document.getElementById('ad-form-container').style.display = 'none';
      loadAd();
    });
    document.getElementById('ad-form').addEventListener('submit', function(e) {
      e.preventDefault();
      const telegramLink = document.getElementById('ad-telegram').value;
      if (!telegramLink.includes("t.me")) {
        alert("Incorrect Telegram link format.");
        return;
      }
      const views = parseInt(document.getElementById('ad-views').value);
      if (views < 50) {
        alert("Minimum 50 views required.");
        return;
      }
      alert("Payment confirmed. Your ad will be published in a few minutes.");
      document.getElementById('ad-form').reset();
      document.getElementById('my-ads-btn').style.display = 'block';
    });
    function loadAd() {
      document.getElementById('ad-project-name').innerText = "Demo Project";
      document.getElementById('ad-project-image').src = "https://via.placeholder.com/300";
      document.getElementById('ad-project-description').innerText = "This is a demo ad description.";
      document.getElementById('ad-telegram-link').href = "https://t.me/YourChannel";
      document.getElementById('ad-youtube-link').href = "https://youtube.com/YourChannel";
      document.getElementById('ad-twitter-link').href = "https://twitter.com/YourProfile";
      document.getElementById('ad-extra-link').href = "#";
      let adTime = 10;
      document.getElementById('ad-timer').innerText = adTime;
      const adCountdown = setInterval(() => {
        adTime--;
        document.getElementById('ad-timer').innerText = adTime;
        if (adTime <= 0) {
          clearInterval(adCountdown);
          coinCount += 1000;
          alert("You've earned 1,000 coins from viewing the ad!");
        }
      }, 1000);
    }

    /***********************
     * وظائف تبويب Ranking
     ***********************/
    function updateRanking() {
      const rankings = [
        { username: "Alice", coins: 1500000 },
        { username: "Bob", coins: 1200000 },
        { username: "Charlie", coins: 900000 }
      ];
      rankings.push({ username: document.getElementById('user-name').innerText || document.getElementById('username').innerText, coins: coinCount });
      rankings.sort((a, b) => b.coins - a.coins);
      const rankingList = document.getElementById('ranking-list');
      rankingList.innerHTML = "";
      rankings.forEach((user, index) => {
        let displayCoins = user.coins;
        if (displayCoins >= 1e9) displayCoins = (displayCoins / 1e9).toFixed(1) + "B";
        else if (displayCoins >= 1e6) displayCoins = (displayCoins / 1e6).toFixed(1) + "M";
        else if (displayCoins >= 1e3) displayCoins = (displayCoins / 1e3).toFixed(1) + "K";
        const li = document.createElement('li');
        li.innerHTML = `<span>${index+1}. ${user.username}</span><span>${displayCoins} coins</span>`;
        rankingList.appendChild(li);
        if (user.username === (document.getElementById('user-name').innerText || document.getElementById('username').innerText)) {
          document.getElementById('user-ranking').innerText = index + 1;
        }
      });
      document.getElementById('total-coins').innerText = coinCount;
    }

    /***********************
     * وظائف تبويب Profile (الحساب) وتكامل Telegram Login
     ***********************/
    // دالة تُستدعى عند نجاح تسجيل الدخول عبر Telegram
    function onTelegramAuth(user) {
      console.log("Telegram auth:", user);
      // إخفاء منطقة الترحيب والزر الخاص بتسجيل الدخول
      document.getElementById("welcome-message").style.display = "none";
      document.getElementById("telegram-login-container").style.display = "none";
      // عرض بيانات المستخدم
      document.getElementById("user-info").style.display = "block";
      document.getElementById("user-photo").src = user.photo_url;
      document.getElementById("user-name").innerText = user.first_name + (user.last_name ? " " + user.last_name : "");
    }

    // إضافة حدث عند النقر على زر "Add Bot" في قسم الحساب
    document.getElementById('add-bot-btn').addEventListener('click', function() {
      document.getElementById('group-verification').style.display = 'block';
    });
    document.getElementById('verify-group-btn').addEventListener('click', function() {
      const groupLink = document.getElementById('group-link').value;
      if (groupLink.includes("t.me")) {
        alert("Group verified. You've received 100,000 coins as a gift!");
        coinCount += 100000;
        updateStats();
      } else {
        alert("Group verification failed. Make sure you are the owner and the group meets the specifications.");
      }
    });

    /***********************
     * وظائف لوحة الإدارة
     ***********************/
    function checkAdmin() {
      if (document.getElementById('username').innerText === "@ahmed1999101") {
        document.getElementById('admin-panel').style.display = 'block';
      }
    }
    document.getElementById('update-links-btn').addEventListener('click', function() {
      const newTelegram = document.getElementById('new-telegram-link').value;
      const newTwitter = document.getElementById('new-twitter-link').value;
      alert("Earn tab links updated!");
    });

    /***********************
     * تحديث الإحصائيات والوظائف المساعدة
     ***********************/
    function updateStats() {
      document.getElementById('profile-coins').innerText = coinCount;
      document.getElementById('correct-count').innerText = userData.correct;
      document.getElementById('incorrect-count').innerText = userData.incorrect;
      document.getElementById('total-questions').innerText = userData.total;
      updateRanking();
    }

    /***********************
     * الدوال المساعدة
     ***********************/
    function openLink(url) {
      window.open(url, "_blank");
    }

    /***********************
     * التشغيل الأولي للتطبيق
     ***********************/
    window.onload = function() {
      showTab('home');
      loadQuestion();
      updateStats();
      checkAdmin();
    };
  </script>
</body>
</html>
